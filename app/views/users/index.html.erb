<h1>Users</h1>

<%  if @users.length > 0 %>

<table class='table table-striped table-hover table-condensed'>
  <thead>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Email</th>
<%    if admin?(@current_user)  %>
    <th>Type</th>
<%    end   %>
    <th>Actions</th>
  </thead>
  <tbody>
<%    @users.each{ | user | %>
    <tr>
      <td><%= user.first_name %></td>
      <td><%= user.last_name %></td>
      <td><%= user.email %></td>
<%      if admin?(@current_user)  %>
      <td><% if admin?(user) %>Admin<% else %>User<% end %></td>
<%      end   %>
      <td>
        <a href='<%= user_path(user.id) %>'>Show</a>
<%      if admin?(@current_user) || current_user?(user)   %>
         | 
        <a href='<%= edit_user_path(user.id) %>'>Edit</a>
<%        if admin?(@current_user) && !current_user?(user)  %>
         | 
        <a data-toggle='modal' href='#deleteModal' user-id='<%= user.id %>' class='delete-user'>Remove</a>
<%        end   %>
<%      end   %>
      </td>
    </tr>
<%    } %>
  </tbody>
</table>

<%  else %>
  <p>None</p>
<%  end %>

<a href='<%= new_user_path %>'>New User</a>
